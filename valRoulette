import random

# Define groupings
roles = ['controller', 'sentinel', 'duelist', 'initiator', 'allAgents','male','female','unknown']

controller = ['Brimstone', 'Viper', 'Omen', 'Astra', 'Harbor', 'Clove']
sentinel = ['Killjoy', 'Cypher', 'Sage', 'Chamber', 'Deadlock', 'Vyse']
duelist = ['Phoenix', 'Jett', 'Reyna', 'Raze', 'Yoru', 'Neon', 'Iso']
initiator = ['Sova', 'Breach', 'Skye', 'Kayo', 'Fade', 'Gekko', 'Tejo']
allAgents = controller + sentinel + duelist + initiator

male = ['Brimstone','Omen','Harbor','Cypher','Chamber','Phoenix','Yoru','Iso','Sova','Breach','Kayo','Gekko','Tejo']
female = ['Viper','Astra','Killjoy','Sage','Deadlock','Vyse','Jett','Reyna','Raze','Neon','Skye','Fade']
unknown = ['Clove']

# Functions

def get_role_choice():
    '''
    Prompt the user to choose a role
    '''
    while True:
        roleChoice = input('Enter the type of role you would like to play (controller, sentinel, duelist, initiator, allAgents, male, female, unknown): ')
        if roleChoice in roles:
            return roleChoice
        else:
            print("Please enter a valid role")

def custom_agent_pool():
    '''
    Allows the user to create their own agent pool
    '''

def role_excluding():
    '''
    Allows the user to exclude a role if the allAgents role is chosen
    '''

def add_players():
    '''
    Allows for player names to be added and then assigned agents
    '''

def remove_agents(agentPool):
    ''' 
    Allows the user to remove agents from the current pool
    '''
    while True:
        print(f'Current agent pool: {agentPool}')
        remove = input('Would you like to remove any agents? (Y/N): ')
        if remove == 'Y':
            while True:
                agentToRemove = input('Enter the agent you would like removed: ')
                if agentToRemove in agentPool:
                    agentPool.remove(agentToRemove)
                    
                    # If list comes empty
                    if agentPool == []:
                        agentPool.append(agentToRemove)
                        print("You cannot remove anymore agents.")

                    break
                else:
                    print(f"Invalid agent name. Try again.")
        elif remove == 'N':
            break
        else:
            print("Please enter Y or N.")
    return agentPool

def add_agents(agentPool):
    '''
    Allows the user to add agents from the current pool
    '''

def generate_random_team():
    '''
    Generate a random team of a selected number of agents
    '''
    while True:
        numberInRandomTeam = int(input("How many agents would you like generated?: "))
        if numberInRandomTeam > 5:
            print("Maximum number of agents allowed is 5. Try again.")
        else:
            break
    randomTeam = random.sample(allAgents, numberInRandomTeam)
    return randomTeam

def generate_custom_team():
    '''
    Generate a custom team based on user input
    '''

def main():
    while True:
        menuChoice = input("Welcome! Would you like to continue with the roulette? (Y/N): ")
        if menuChoice == 'Y':
            try:
                while True:
                    teamOrIndividual = input("Generate a team (1) or an individual agent (2)? (CTRL+C to go back): ")
                    if teamOrIndividual == '1':
                        chooseOrRandom = input("Choose number of each role (1) or generate randomly (2)?: ")
                        if chooseOrRandom == '1':
                            '''generate custom team'''#####
                        elif chooseOrRandom == '2':
                            team = generate_random_team()
                            print(f"Your random team is: {team}")
                        else:
                            print("Please enter 1 or 2.")
                    elif teamOrIndividual == '2':
                        roleChoice = get_role_choice()
                        if roleChoice == 'controller':
                            agentPool = controller
                        if roleChoice == 'sentinel':
                            agentPool = sentinel
                        if roleChoice == 'duelist':
                            agentPool = duelist
                        if roleChoice == 'initiator':
                            agentPool = initiator
                        if roleChoice == 'allAgents':
                            agentPool = allAgents
                        if roleChoice == 'male':
                            agentPool = male
                        if roleChoice == 'female':
                            agentPool = female
                        if roleChoice == 'unknown':
                            agentPool = unknown
                        agentPool = remove_agents(agentPool)
                        chosenAgent = random.choice(agentPool)
                        print(f"Your chosen agent is: {chosenAgent}")
                    else:
                        print("Please enter 1 or 2.")
            except KeyboardInterrupt:
                print("Returning to the main menu...")
        elif menuChoice == 'N':
            print("Program shutting down...")
            break
        else:
            print("Please enter Y or N.")

if __name__ == "__main__":
    main()